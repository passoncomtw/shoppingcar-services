# 購物車應用產品規格書

## 1. 產品概述

購物車應用是一個完整的電子商務解決方案，提供移動應用（APP）和網頁應用（WEB）兩種客戶端，支持用戶瀏覽商家、查看產品、添加到購物車、下單和查看訂單等核心功能。該應用基於現代化技術架構開發，旨在提供流暢的購物體驗。

## 2. 系統架構

系統採用分層架構設計，包含：

- **前端應用**：
  - 移動應用 (shoppingcar-app)：使用 React Native 開發的跨平台移動應用
  - 網頁應用 (shoppingcar-web)：使用 React.js 開發的響應式網頁應用

- **後端服務** (shoppingcar-service)：
  - 採用 Node.js 開發的 RESTful API 服務
  - 提供商家、產品、購物車、訂單和用戶管理等核心功能

- **資料庫**：
  - 儲存用戶、商家、產品、購物車、訂單等相關數據

## 3. 用戶角色

- **一般用戶**：可以瀏覽商家和產品、加入購物車、下單和管理訂單
- **系統管理員**：負責管理用戶、商家和產品數據（通過控制台）

## 4. 功能規格

### 4.1 用戶管理功能

#### 4.1.1 用戶登入 (LoginScreen)
- 功能描述：用戶通過帳號密碼進行登入
- 用戶體驗：
  - 提供帳號和密碼輸入欄位
  - 登入按鈕
  - 登入失敗顯示相應錯誤提示

#### 4.1.2 設置功能 (SettingScreen)
- 功能描述：提供用戶帳號設置和個人偏好管理
- 用戶體驗：
  - 顯示用戶基本信息
  - 提供修改密碼選項
  - 提供登出功能

### 4.2 商家瀏覽功能

#### 4.2.1 商家列表 (MerchantsScreen)
- 功能描述：以瀑布流形式展示所有可用商家
- 用戶體驗：
  - 以網格形式展示商家
  - 商家卡片顯示商家名稱和頭像
  - 點擊商家卡片進入商家詳情頁面

#### 4.2.2 商家詳情 (MerchantDetailScreen)
- 功能描述：展示特定商家的詳細信息和其提供的產品
- 用戶體驗：
  - 顯示商家名稱、描述和評價
  - 展示商家提供的產品列表
  - 提供產品篩選和排序功能

### 4.3 產品管理功能

#### 4.3.1 產品詳情 (ProductDetailScreen)
- 功能描述：展示產品的詳細信息，並允許用戶將產品加入購物車
- 用戶體驗：
  - 顯示產品名稱、價格、庫存和詳細描述
  - 提供產品圖片展示
  - 選擇產品數量並加入購物車的功能
  - 顯示相關產品推薦

### 4.4 購物車功能

#### 4.4.1 購物車管理 (ShoppingcarScreen)
- 功能描述：管理用戶已添加到購物車的產品
- 用戶體驗：
  - 顯示購物車中的所有產品項目，按商家分組
  - 每個產品項目顯示產品名稱、單價、數量和小計
  - 提供增加或減少產品數量的功能
  - 顯示購物車總金額
  - 提供結帳按鈕進行下單
  - 空購物車時顯示友好提示和購物引導

#### 4.4.2 購物車API功能
- 取得購物車資訊 (GET /app/shoppingcars)
  - 根據當前登入的用戶ID獲取購物車信息
  - 返回購物車總金額、產品數量和產品詳情

- 添加產品到購物車 (POST /app/shoppingcars/{merchantId}/products/{productId})
  - 將指定商家的產品添加到購物車
  - 可指定添加數量
  - 成功後返回更新後的購物車信息

### 4.5 訂單管理功能

#### 4.5.1 訂單列表 (OrdersScreen)
- 功能描述：展示用戶的所有訂單
- 用戶體驗：
  - 以卡片形式顯示訂單
  - 每張卡片顯示訂單基本信息（商家名稱、總金額）
  - 提供查看訂單詳情的按鈕
  - 空訂單時顯示友好提示和購物引導

#### 4.5.2 訂單詳情 (OrderDetailScreen)
- 功能描述：展示特定訂單的詳細信息
- 用戶體驗：
  - 顯示訂單號、下單時間、訂單狀態
  - 顯示商家信息
  - 列出訂單中的所有產品項目（名稱、數量、單價）
  - 顯示訂單總金額
  - 根據訂單狀態提供相應操作（付款、取消等）

#### 4.5.3 訂單API功能
- 創建訂單 (POST /app/orders)
  - 根據購物車中選擇的項目創建訂單
  - 參數：購物車項目ID陣列
  - 返回創建的訂單ID陣列

- 獲取訂單列表 (GET /app/orders)
  - 獲取當前用戶的所有訂單
  - 支持分頁和篩選

- 獲取訂單詳情 (GET /app/orders/{orderId})
  - 獲取特定訂單的詳細信息

- 更新訂單支付狀態 (PUT /app/orders/{orderId}/pay)
  - 更新訂單的支付狀態

## 5. 非功能性需求

### 5.1 性能需求
- 頁面加載時間應在3秒內完成
- 系統應支持至少1000名同時在線用戶
- API響應時間應在500毫秒內

### 5.2 安全需求
- 使用JWT進行用戶身份驗證
- 所有敏感數據在傳輸過程中須加密
- 支持防SQL注入和XSS攻擊的安全措施

### 5.3 可用性需求
- 系統全年可用率達到99.9%
- 支持錯誤恢復和數據備份機制

### 5.4 兼容性需求
- 移動應用支持iOS 11+和Android 8.0+
- 網頁應用支持最新版Chrome、Firefox、Safari和Edge瀏覽器

## 6. 技術實現

### 6.1 前端技術
- React.js和React Native用於WEB和APP的開發
- Redux用於狀態管理
- React Navigation用於APP的頁面導航
- React Native Paper用於UI組件

### 6.2 後端技術
- Node.js作為後端服務運行環境
- Express框架用於API開發
- JWT用於身份驗證
- 數據庫ORM用於數據操作

## 7. 未來發展計劃

- 集成支付網關，實現真實支付流程
- 添加商品評論和評分功能
- 實現用戶註冊和個人資料管理
- 開發商家後台管理系統
- 添加多語言支持
- 優化應用性能和用戶體驗

---

*本文檔描述了購物車應用當前的功能和規格，作為產品開發和測試的參考依據。* 